@page "/"
@using LearnOnline.Web.Services.NewService
@using LearnOnline.Models
@inject INewService NewService;
@inject HttpClient _httpClient;
<div id="banner">
    <div class="box-left">
        <h2>
            <span style="color:black">TIẾNG ANH</span>
            <br>
            <span style="color:black"> DỄ DÀNG HƠN</span>
        </h2>
        <p style="color:black">
            Chia sẻ hành trình chi tiết, tài liệu học,
            yêu cầu và kỹ năng cần đạt được trong mỗi giai đoạn học
            IELTS từ con số 0 tới khi đạt mục tiêu 7.0.
        </p>
    </div>
    <div class="box-right">
        <img src="assets/img_1.png" alt="">
        <img src="assets/img_2.png" alt="">
        <img src="assets/img_3.png" alt="">
    </div>
    <div class="to-bottom">
        <a href="">
            <img src="assets/to_bottom.png" alt="">
        </a>
    </div>
</div>
<div id="wp-products">
    <h2>TIN TỨC NỔI BẬT</h2>

    <ul id="list-products">
        @foreach (var item in News)
        {
            <div class="item">
                <a href="/new/@item.Id">
                    <img class="media-img" src="@item.Image" style="height:100px;width:200px" alt="">
                </a>
                <div class="name">@item.Title</div>
            </div>
        }
    </ul>
</div>
<div id="wp-products">
    <h2>Tự học</h2>
    <ul id="list-products">
        <div class="item">
            <img src="../image/tuhoc1.jpg" style="height:100px;width:200px" alt="">
            <div class="stars">
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
            </div>

            <div class="name">Cấu trúc Although và cấu trúc despite, in spite of và cách phân biệt</div>
            <div class="price">Xem</div>
        </div>

        <div class="item">
            <img src="../image/tuhoc2.jpg" style="height:100px;width:200px" alt="">
            <div class="stars">
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
            </div>

            <div class="name">Cấu trúc Suggest - Cách dùng, ví dụ chi tiết</div>
            <div class="price">Xem</div>
        </div>

        <div class="item">
            <img src="../image/tuhoc2.jpg" style="height:100px;width:200px" alt="">
            <div class="stars">
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
            </div>

            <div class="name">Cấu trúc Suggest - Cách dùng, ví dụ chi tiết</div>
            <div class="price">Xem</div>
        </div>

        <div class="item">
            <img src="../image/tuhoc3.jpg" style="height:100px;width:200px" alt="">
            <div class="stars">
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
                <span>
                    <img src="assets/star.png" alt="">
                </span>
            </div>

            <div class="name">Cấu trúc Before - Cách dùng trong tiếng Anh</div>
            <div class="price">Xem</div>
        </div>


    </ul>
</div>
<div id="wp-products">
    <h2>Bài tập</h2>
    <ul id="list-products">
        <div class="item">
            <a href="/audit/reading">
                <img src="../image/reading.jpg" style="height:100px;width:200px" alt="">
            </a>
            <div class="name">Reading</div>
            <div class="desc">Mô Tả Ngắn </div>
            <div class="price">Làm bài</div>
        </div>

        <div class="item">
            <a href="/audit/listening">
                <img src="../image/listening.jpg" style="height:100px;width:200px" alt="">
            </a>
            <div class="name">Listening</div>
            <div class="desc">Mô Tả Ngắn Cho Sản Phẩm</div>
            <div class="price">Làm bài</div>
        </div>

        <div class="item">
            <a href="/audit/speaking">
                <img src="../image/speaking.jpg" style="height:100px;width:200px" alt="">
            </a>
            <div class="name">Speaking</div>
            <div class="desc"></div>
            <div class="price">Làm bài</div>
        </div>

        <div class="item">
            <a href="/audit/writing">
                <img src="../image/writing.jpg" style="height:100px;width:200px" alt="">
            </a>
            <div class="name">Writing</div>
            <div class="price">Làm bài</div>
        </div>


    </ul>
</div>
<style>

    #banner {
        width: 100%;
        background-image: url("../image/banner.jpg");
        height: 463px;
        margin-top: 40px;
        display: flex;
        padding: 0px 133px;
        position: relative;
    }

        #banner .box-left, #banner .box-right {
            width: 50%;
        }

            #banner .box-left h2 {
                font-size: 48px;
                margin-top: 75px;
                color: #fff;
            }

            #banner .box-left p {
                color: #D0D0D0;
            }

            #banner .box-left button {
                width: 191px;
                height: 40px;
                margin-top: 41px;
                background: #1d1a1a;
                border: none;
                outline: none;
                color: #fff;
                font-weight: bold;
                border-radius: 20px;
                transition: 0.4s;
            }

                #banner .box-left button:hover {
                    background: orange;
                }

        #banner .box-right {
            padding-left: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

            #banner .box-right img {
                margin: 0px 10px;
                animation: animation 3s infinite linear;
            }


                #banner .box-right img:nth-child(1) {
                    animation-delay: 0.5s;
                }

                #banner .box-right img:nth-child(2) {
                    animation-delay: 1s;
                }

    #wp-products {
        padding-top: 116px;
        padding-bottom: 78px;
        padding-left: 134px;
        padding-right: 134px;
    }

        #wp-products h2 {
            text-align: center;
            margin-bottom: 76px;
            font-size: 32px;
            color: #626a67;
        }

    #list-products {
        display: flex;
        list-style: none;
        justify-content: space-around;
        align-items: center;
        flex-wrap: wrap;
    }

        #list-products .item {
            width: 290px;
            height: 374px;
            background: #362f2f;
            border-radius: 10px;
            margin-bottom: 50px;
        }

            #list-products .item img {
                display: block;
                margin: 0px auto;
                margin-top: 17px;
            }

            #list-products .item .stars {
                display: flex;
                margin: 0px auto;
                width: 50%;
            }

            #list-products .item .name {
                text-align: center;
                color: #fff;
                font-weight: bold;
                margin-top: 21px;
            }

            #list-products .item .desc {
                text-align: center;
                color: #626a67;
            }

            #list-products .item .price {
                text-align: center;
                color: #f42424;
                font-weight: bold;
                margin-top: 20px;
            }

    #menu .item {
        margin: 0px 25px;
    }

        #menu .item a {
            color: #626A67;
            text-decoration: none;
        }

    #actions .item {
        margin-left: 22px;
    }

    #list-products .item {
        width: 290px;
        height: 374px;
        background: #362f2f;
        border-radius: 10px;
        margin-bottom: 50px;
    }

        #list-products .item img {
            display: block;
            margin: 0px auto;
            margin-top: 17px;
        }

        #list-products .item .stars {
            display: flex;
            margin: 0px auto;
            width: 50%;
        }

        #list-products .item .name {
            text-align: center;
            color: #fff;
            font-weight: bold;
            margin-top: 21px;
        }

        #list-products .item .desc {
            text-align: center;
            color: #626a67;
        }

        #list-products .item .price {
            text-align: center;
            color: #f42424;
            font-weight: bold;
            margin-top: 20px;
        }

    .list-page .item {
        margin: 0px 15px;
        width: 37px;
        height: 37px;
        background: #362f2f;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

        .list-page .item a {
            color: #fff;
            text-decoration: none;
        }

    #list-comment .item {
        width: 100%;
        height: 100%;
        background: #362f2f;
        border-radius: 20px;
        padding-top: 50px;
    }

        #list-comment .item .avatar {
            text-align: center;
            margin-top: 13px;
        }

        #list-comment .item .stars {
            display: flex;
            margin: 0px auto;
            width: 50%;
            margin-top: 32px;
            justify-content: center;
            align-items: center;
        }

        #list-comment .item .name {
            text-align: center;
            font-weight: bold;
            color: #fff;
        }

        #list-comment .item .text {
            padding: 20px 50px;
            color: #fff;
        }

    #footer .box .quick-menu .item {
        margin-bottom: 12px;
    }

    #footer .box .quick-menu, .item a {
        color: #fff;
        text-decoration: none;
    }
</style>
@code {
    private static List<New> Response = new List<New>();
    private static List<NewDTo> News = new List<NewDTo>();
    //private static List<New> News = new List<New>();
    protected override async Task OnInitializedAsync()
    {
        News = new List<NewDTo>();
        //get new in home page
        // var data = (await NewService.GetNews()).Data;
        //await NewService.GetNews();
        var response = await _httpClient.GetFromJsonAsync<List<New>>($"api/New/topic?topic={1}");
        Response = response;
        var format = "image/png";
        foreach (var item in Response)
        {
            var newImage = new NewDTo();
            newImage.Id = item.Id;
            newImage.Title = item.Title;
            newImage.Description = item.Description;
            if (item.Image != null)
            {
                newImage.Image = $"data:{format};base64,{Convert.ToBase64String(item.Image)}";
            }
            else
            {
                newImage.Image = "";
            }

            News.Add(newImage);
        }
    }
}